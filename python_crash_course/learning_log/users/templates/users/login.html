{% extends "learning_logs/base.html" %}
{% load bootstrap3 %}

{% block header %}
    <h2>登录</h2>
{% endblock header %}

{% block content %}
    {% if form.errors %}
    <p>
        你的用户名和密码不匹配，请重试。
    </p>
    {% endif %}

    <form method="post" action="{% url 'users:login' %}" class="form">


    <!--    防止攻击者利用表单来获取对服务器未经授权的访问-->
        {%csrf_token%}

    <!-- 让bootstrap_form创建表单-->
         {% bootstrap_form form%}

    {% buttons %}
    <!--    创建提交按钮-->
        <button name="submit" class="btn btn-primary">登录</button>
    {% endbuttons %}

    <!--        隐藏的表单，登陆成功后重定向到主页-->
        <input type="hidden" name="next" value="{% url 'learning_logs:index' %}" />
        </form>


{% endblock content %}